const imageUpload = document.getElementById("imageUpload");
const titleField = document.getElementById("titleField");
const directorField = document.getElementById("directorField");
const actor1Field = document.getElementById("actor1Field");
const actor2Field = document.getElementById("actor2Field");
const typeField = document.getElementById("type");
const imageOutput = document.getElementById("image");
const titleOutput = document.getElementById("title");
const directorOutput = document.getElementById("director");
const actor1Output = document.getElementById("actor1");
const actor2Output = document.getElementById("actor2");
const path1 = document.getElementById("path1")
const path2 = document.getElementById("path2")
const path3 = document.getElementById("path3")
const path = document.getElementById("path")
const typeTextOutput = document.getElementById("typeOutput");

function refreshOutputs(field, output){
    output.innerHTML = field.value;
    if(field.value == ""){
        output.parentNode.style.display = "none";
    }
    else{
        output.parentNode.style.display = "block";
    }
}

function displayImage(input){
    imageOutput.style.display = "block";
    console.log("diplayed image")
    if(input.files && input.files[0]){
        var reader = new FileReader();
        reader.onload = function(e){
            imageOutput.style.backgroundImage = "url(\"" + e.target.result + "\")";
        }
        reader.readAsDataURL(input.files[0]);
    }
}

function refreshChip(){
    if(type.value == "movie"){
        path1.setAttribute("d", "M2.20935 6.44613C2.31179 5.15548 3.31446 4.11407 4.60565 3.96787C3.33286 4.14237 2.31251 5.14827 2.20935 6.44613ZM19.3939 20.0321C13.8818 20.656 10.1177 20.656 4.60565 20.0321C9.53239 20.565 14.465 20.5652 19.3939 20.0321ZM4.60565 20.0321C3.30424 19.8848 2.29592 18.828 2.20709 17.5232C2.32301 18.8126 3.29962 19.8843 4.60565 20.0321ZM16.7044 8.97415C13.568 8.77752 10.4313 8.80165 7.29516 8.97415C6.84065 9.00268 6.51004 9.35319 6.44295 9.78894C6.26596 11.4561 6.26596 12.5502 6.44295 14.2173C6.4901 14.6614 6.85121 15.0043 7.29516 15.0321C10.4252 15.2284 13.5744 15.2284 16.7044 15.0321C17.1483 15.0043 17.5094 14.6614 17.5566 14.2173C17.7141 12.7336 17.7007 11.271 17.5566 9.78894C17.4895 9.35318 17.1589 9.00268 16.7044 8.97415Z");
        path1.setAttribute("fill-opacity", "0.6");
        path2.setAttribute("d", "M19.3939 3.96787C13.8818 3.34404 10.1177 3.34404 4.60565 3.96787C3.33286 4.14237 2.31251 5.14827 2.20935 6.44613C2.18468 6.75653 2.16942 7.06793 2.14962 7.37868C1.93259 10.9889 1.95168 13.7643 2.20709 17.5232C2.32301 18.8126 3.29962 19.8843 4.60565 20.0321C9.53239 20.565 14.465 20.5652 19.3939 20.0321C20.6953 19.8848 21.7036 18.828 21.7925 17.5232C22.0687 13.4577 22.0687 10.5423 21.7925 6.47685C21.7036 5.17203 20.6953 4.11522 19.3939 3.96787ZM3.04492 7.83901C9.97245 7.4145 14.0265 7.41453 20.9537 7.83901C20.9839 8.37662 21.0082 8.89574 21.0274 9.40309C20.6511 9.34936 20.261 9.2974 19.8582 9.25054C19.3883 9.19594 18.9595 9.50831 18.8614 9.96213C18.6451 11.2715 18.6993 12.639 18.8461 13.9517C18.9024 14.4547 19.3571 14.814 19.8582 14.7557C20.2608 14.7089 20.6505 14.656 21.0265 14.6023C21.0073 15.1074 20.9837 15.6241 20.9537 16.1592C14.0264 16.5837 9.97255 16.5837 3.04492 16.1592C3.01492 15.6241 2.99042 15.1074 2.97129 14.6023C3.34784 14.6561 3.73815 14.7088 4.14138 14.7557C4.64244 14.814 5.09718 14.4547 5.15343 13.9517C5.30299 12.6142 5.28761 11.2965 5.13816 9.96213C5.04663 9.5386 4.667 9.23804 4.23477 9.24426C3.81233 9.27267 3.39021 9.34326 2.97129 9.40309C2.99047 8.89575 3.01477 8.37661 3.04492 7.83901Z");
        path2.setAttribute("fill-opacity", "0.6");
        path3.setAttribute("d", "M4.60565 3.96787C10.1177 3.34404 13.8818 3.34404 19.3939 3.96787C20.6953 4.11522 21.7036 5.17203 21.7925 6.47685C22.0687 10.5423 22.0687 13.4577 21.7925 17.5232L21.7661 17.7647C21.59 18.877 20.7396 19.7679 19.6352 19.9942L19.3939 20.0321L18.3803 20.1417C13.4048 20.6534 9.77322 20.617 4.60565 20.0321L4.36454 19.9942C3.18162 19.7516 2.29047 18.746 2.20709 17.5232L2.12233 16.1563C1.95054 13.0576 1.95973 10.5375 2.14962 7.37868C2.16942 7.06793 2.18468 6.75653 2.20935 6.44613C2.21694 6.3507 2.23107 6.25718 2.24831 6.16512C2.46315 5.00707 3.40979 4.10333 4.60565 3.96787ZM20.813 17.168C14.0345 17.5786 9.96538 17.5786 3.1868 17.168C3.19303 17.2631 3.19881 17.3588 3.20535 17.4551C3.26142 18.2787 3.89742 18.945 4.71806 19.0381C10.1554 19.6535 13.8444 19.6535 19.2817 19.0381C20.1025 18.9452 20.7393 18.2788 20.7954 17.4551C20.8019 17.3588 20.8067 17.2631 20.813 17.168ZM20.9537 7.83901C14.0265 7.41453 9.97245 7.4145 3.04492 7.83901C3.01477 8.37661 2.99047 8.89575 2.97129 9.40309C3.39021 9.34326 3.81233 9.27267 4.23477 9.24426C4.667 9.23804 5.04663 9.5386 5.13816 9.96213C5.28761 11.2965 5.30299 12.6142 5.15343 13.9517L5.13897 14.044C5.0475 14.4678 4.66708 14.7682 4.23466 14.7618L4.14138 14.7557C3.73815 14.7088 3.34784 14.6561 2.97129 14.6023C2.99042 15.1074 3.01492 15.6241 3.04492 16.1592C9.97255 16.5837 14.0264 16.5837 20.9537 16.1592C20.9837 15.6241 21.0073 15.1074 21.0265 14.6023C20.6505 14.656 20.2608 14.7089 19.8582 14.7557L19.7651 14.7618C19.3329 14.7679 18.9532 14.4676 18.8618 14.044L18.8461 13.9517C18.6993 12.639 18.6451 11.2715 18.8614 9.96213C18.9595 9.50831 19.3883 9.19594 19.8582 9.25054C20.261 9.2974 20.6511 9.34936 21.0274 9.40309C21.0082 8.89574 20.9839 8.37662 20.9537 7.83901ZM7.29516 8.97415C10.4313 8.80165 13.568 8.77752 16.7044 8.97415C17.1589 9.00268 17.4895 9.35318 17.5566 9.78894C17.7007 11.271 17.7141 12.7336 17.5566 14.2173L17.5248 14.379C17.418 14.7424 17.0928 15.0078 16.7044 15.0321L15.5307 15.0967C13.1798 15.2072 10.8209 15.2071 8.47006 15.0967L7.29516 15.0321C6.90683 15.0077 6.58171 14.7424 6.47492 14.379L6.44295 14.2173C6.28809 12.7587 6.26893 11.7387 6.38507 10.3897L6.44295 9.78894C6.51004 9.35319 6.84065 9.00268 7.29516 8.97415ZM16.5688 9.96785C13.5296 9.78069 10.4838 9.80235 7.43001 9.96785C7.27074 11.4987 7.27077 12.5074 7.43001 14.0382C10.4702 14.2258 13.5286 14.2257 16.5688 14.0382C16.7074 12.6823 16.6975 11.3386 16.5688 9.96785ZM19.8295 10.255C19.6626 11.3696 19.7012 12.5561 19.8305 13.751C20.1903 13.7082 20.5415 13.6614 20.8852 13.6124L20.978 13.5987C21.0038 12.523 21.0038 11.4809 20.978 10.4053L20.8862 10.3927C20.5437 10.3437 20.1913 10.2979 19.8295 10.255ZM4.16239 10.254C3.83631 10.2834 3.50775 10.3362 3.11258 10.3927L3.02078 10.4053C2.99495 11.4806 2.99399 12.5227 3.0198 13.5987L3.11258 13.6124C3.45569 13.6614 3.80726 13.7082 4.16728 13.751C4.29098 12.5848 4.28297 11.4298 4.16239 10.254ZM19.2817 4.96199C13.8444 4.34664 10.1554 4.34663 4.71806 4.96199C3.90391 5.05436 3.27097 5.71101 3.20633 6.52547C3.1982 6.62772 3.19324 6.72822 3.1868 6.82918C9.9649 6.41864 14.0343 6.4187 20.812 6.82918C20.8058 6.73513 20.8019 6.64031 20.7954 6.545C20.7393 5.72133 20.1025 5.05493 19.2817 4.96199Z");
        path3.setAttribute("fill-opacity", "1");
        path.setAttribute("fill", "hsl(242, 75%, 35%)")
        typeTextOutput.innerHTML = "Movie";
    }
    else if(type.value == "show"){
        path1.setAttribute("d", "M6.17114 4.15354C10.5412 3.94882 13.4589 3.94882 17.8289 4.15354C18.772 4.19774 19.6465 4.81252 19.8807 5.79024C19.9644 6.13941 20.0386 6.51521 20.1086 6.91313C21.0154 7.12781 21.7101 7.90342 21.7921 8.86745C22.0656 12.091 22.0693 14.4049 21.8032 17.604C21.7055 18.7791 20.7548 19.691 19.5905 19.7573C13.8976 20.0809 10.1025 20.0809 4.40954 19.7573C3.24526 19.691 2.29458 18.7791 2.19685 17.604C1.9308 14.4049 1.93445 12.091 2.20801 8.86745C2.28991 7.90373 2.98416 7.1281 3.89055 6.91313C3.96053 6.51515 4.0357 6.13946 4.11935 5.79024C4.35358 4.81252 5.22807 4.19774 6.17114 4.15354ZM17.7843 5.10921C13.444 4.90589 10.5561 4.90589 6.21578 5.10921C5.63753 5.1363 5.16692 5.50401 5.0448 6.01351C4.98385 6.2679 4.92867 6.53971 4.87459 6.82625C10.1588 6.53718 13.8405 6.53721 19.1246 6.82625C19.0705 6.53977 19.0162 6.26785 18.9553 6.01351C18.8332 5.50401 18.3625 5.1363 17.7843 5.10921Z");
        path1.setAttribute("fill-opacity", "0.6");
        path2.setAttribute("d", "M6.17114 4.15354C10.5412 3.94882 13.4589 3.94882 17.8289 4.15354C18.772 4.19774 19.6465 4.81252 19.8807 5.79024C19.9644 6.13941 20.0386 6.51521 20.1086 6.91313C21.0154 7.12781 21.7101 7.90342 21.7921 8.86745C22.0656 12.091 22.0693 14.4049 21.8032 17.604L21.7916 17.7136C21.6458 18.8355 20.7184 19.693 19.5905 19.7573L18.5445 19.8141C13.7578 20.062 10.2424 20.062 5.4557 19.8141L4.40954 19.7573C3.28167 19.693 2.35439 18.8355 2.20865 17.7136L2.19685 17.604C1.94742 14.6048 1.93498 12.3838 2.15982 9.46163L2.20801 8.86745C2.28991 7.90373 2.98416 7.1281 3.89055 6.91313C3.96053 6.51515 4.0357 6.13946 4.11935 5.79024C4.35358 4.81252 5.22807 4.19774 6.17114 4.15354ZM19.0699 7.82492C13.8223 7.53788 10.1771 7.53784 4.92934 7.82492L4.21548 7.86398L4.12124 7.88644C3.6272 8.00371 3.24937 8.42726 3.20474 8.95236C2.93587 12.1208 2.93216 14.3786 3.19351 17.5212C3.24953 18.1948 3.79501 18.7207 4.46645 18.759L5.50551 18.8156C10.5986 19.0793 14.2322 19.0604 19.5338 18.759L19.6583 18.7463C20.2716 18.6544 20.7542 18.1527 20.8067 17.5212C21.068 14.3786 21.0643 12.1208 20.7955 8.95236C20.7508 8.42725 20.3729 8.00359 19.8785 7.88644L19.7838 7.86398L19.0699 7.82492ZM17.7843 5.10921C13.444 4.90589 10.5561 4.90589 6.21578 5.10921C5.63753 5.1363 5.16692 5.50401 5.0448 6.01351C4.98385 6.2679 4.92867 6.53971 4.87459 6.82625C10.1588 6.53718 13.8405 6.53721 19.1246 6.82625C19.0705 6.53977 19.0162 6.26785 18.9553 6.01351C18.8332 5.50401 18.3625 5.1363 17.7843 5.10921Z");
        path2.setAttribute("fill-opacity", "1");
        path3.setAttribute("d", "");
        path3.setAttribute("fill-opacity", "0");
        path.setAttribute("fill", "hsl(242, 75%, 35%)")
        typeTextOutput.innerHTML = "Show";
    }
}

titleField.addEventListener("input", function(){refreshOutputs(titleField, titleOutput)});
directorField.addEventListener("input", function(){refreshOutputs(directorField, directorOutput)});
actor1Field.addEventListener("input", function(){refreshOutputs(actor1Field, actor1Output)});
actor2Field.addEventListener("input", function(){refreshOutputs(actor2Field, actor2Output)});
imageUpload.addEventListener("change", function(){displayImage(this)});
typeField.addEventListener("change", function(){refreshChip()})